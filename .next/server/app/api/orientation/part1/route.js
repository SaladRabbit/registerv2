"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/orientation/part1/route";
exports.ids = ["app/api/orientation/part1/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forientation%2Fpart1%2Froute&page=%2Fapi%2Forientation%2Fpart1%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forientation%2Fpart1%2Froute.ts&appDir=%2FUsers%2Fjarredkoen%2FCoding%2FRegisterv2%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarredkoen%2FCoding%2FRegisterv2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forientation%2Fpart1%2Froute&page=%2Fapi%2Forientation%2Fpart1%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forientation%2Fpart1%2Froute.ts&appDir=%2FUsers%2Fjarredkoen%2FCoding%2FRegisterv2%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarredkoen%2FCoding%2FRegisterv2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_jarredkoen_Coding_Registerv2_src_app_api_orientation_part1_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/orientation/part1/route.ts */ \"(rsc)/./src/app/api/orientation/part1/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/orientation/part1/route\",\n        pathname: \"/api/orientation/part1\",\n        filename: \"route\",\n        bundlePath: \"app/api/orientation/part1/route\"\n    },\n    resolvedPagePath: \"/Users/jarredkoen/Coding/Registerv2/src/app/api/orientation/part1/route.ts\",\n    nextConfigOutput,\n    userland: _Users_jarredkoen_Coding_Registerv2_src_app_api_orientation_part1_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/orientation/part1/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvcmllbnRhdGlvbiUyRnBhcnQxJTJGcm91dGUmcGFnZT0lMkZhcGklMkZvcmllbnRhdGlvbiUyRnBhcnQxJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGb3JpZW50YXRpb24lMkZwYXJ0MSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmphcnJlZGtvZW4lMkZDb2RpbmclMkZSZWdpc3RlcnYyJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmphcnJlZGtvZW4lMkZDb2RpbmclMkZSZWdpc3RlcnYyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUMwQjtBQUN2RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlZ2lzdGVyLXYyLz8wMDZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9qYXJyZWRrb2VuL0NvZGluZy9SZWdpc3RlcnYyL3NyYy9hcHAvYXBpL29yaWVudGF0aW9uL3BhcnQxL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9vcmllbnRhdGlvbi9wYXJ0MS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL29yaWVudGF0aW9uL3BhcnQxXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9vcmllbnRhdGlvbi9wYXJ0MS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9qYXJyZWRrb2VuL0NvZGluZy9SZWdpc3RlcnYyL3NyYy9hcHAvYXBpL29yaWVudGF0aW9uL3BhcnQxL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9vcmllbnRhdGlvbi9wYXJ0MS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forientation%2Fpart1%2Froute&page=%2Fapi%2Forientation%2Fpart1%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forientation%2Fpart1%2Froute.ts&appDir=%2FUsers%2Fjarredkoen%2FCoding%2FRegisterv2%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarredkoen%2FCoding%2FRegisterv2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/orientation/part1/route.ts":
/*!************************************************!*\
  !*** ./src/app/api/orientation/part1/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./src/lib/supabase/server.ts\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist-node/v4.js\");\n// src/app/api/orientation/part1/route.ts\n// This is a NEW FILE\n\n\n\nasync function POST(request) {\n    try {\n        const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n        // Body will contain all data from Step 0 + the isNoEmail flag\n        const body = await request.json();\n        const { isNoEmail, ...formData } = body;\n        // 1. Get Group ID from the secure cookie\n        const groupIdCookie = request.cookies.get(\"pending_group_id\");\n        if (!groupIdCookie) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Session expired. Please start over.\"\n            }, {\n                status: 401\n            });\n        }\n        const groupId = groupIdCookie.value;\n        const today = new Date().toISOString().split(\"T\")[0];\n        if (isNoEmail) {\n            // --- \"NO-EMAIL\" LOGIC ---\n            // This user has no member_id. Save their info directly to the register.\n            const { error } = await supabase.from(\"attendance_register\").insert({\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(),\n                group_id: groupId,\n                attendance_date: today,\n                is_no_email_check_in: true,\n                member_id: null,\n                // Save generic data from the form\n                first_name: formData.firstName,\n                last_name: formData.lastName,\n                phone: formData.phone,\n                dob: formData.dateOfBirth || null,\n                ethnicity: formData.ethnicity,\n                gender: formData.gender,\n                reason_for_attending: formData.reasonForAttending\n            });\n            if (error) {\n                console.error(\"Error creating no-email attendance:\", error);\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    error: \"Failed to save attendance\"\n                }, {\n                    status: 500\n                });\n            }\n        } else {\n            // --- \"EMAIL\" LOGIC (Part 1) ---\n            // This user has a member_id. Update their member record\n            // and create a LINKED attendance record.\n            const memberIdCookie = request.cookies.get(\"member_id\");\n            if (!memberIdCookie) {\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    error: \"Member session not found. Please sign in again.\"\n                }, {\n                    status: 401\n                });\n            }\n            const memberId = memberIdCookie.value;\n            // 1. Update the member's basic info\n            const { error: memberError } = await supabase.from(\"members\").update({\n                first_name: formData.firstName,\n                last_name: formData.lastName,\n                phone: formData.phone,\n                date_of_birth: formData.dateOfBirth || null,\n                gender: formData.gender,\n                ethnicity: formData.ethnicity,\n                updated_at: new Date().toISOString()\n            }).eq(\"id\", memberId);\n            if (memberError) {\n                console.error(\"Error updating member (Part 1):\", memberError);\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    error: \"Failed to update member details.\"\n                }, {\n                    status: 500\n                });\n            }\n            // 2. Create the initial orientation_details row (will be updated in Part 2)\n            const { error: detailsError } = await supabase.from(\"orientation_details\").insert({\n                member_id: memberId,\n                date_of_birth: formData.dateOfBirth || null,\n                gender: formData.gender,\n                ethnicity: formData.ethnicity,\n                reason_for_attending: formData.reasonForAttending\n            });\n            if (detailsError) {\n                console.error(\"Error creating orientation details (Part 1):\", detailsError);\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    error: \"Failed to save orientation details.\"\n                }, {\n                    status: 500\n                });\n            }\n            // 3. Create the attendance record (as requested)\n            const { error: attendanceError } = await supabase.from(\"attendance_register\").insert({\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(),\n                member_id: memberId,\n                group_id: groupId,\n                attendance_date: today,\n                first_name: formData.firstName,\n                last_name: formData.lastName,\n                phone: formData.phone,\n                dob: formData.dateOfBirth || null,\n                gender: formData.gender,\n                ethnicity: formData.ethnicity,\n                reason_for_attending: formData.reasonForAttending,\n                is_no_email_check_in: false\n            });\n            if (attendanceError) {\n                console.error(\"Error creating attendance record (Part 1):\", attendanceError);\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    error: \"Failed to log attendance.\"\n                }, {\n                    status: 500\n                });\n            }\n        }\n        // --- Success ---\n        // For \"No-Email\" users, this is the end. Clear all cookies.\n        // For \"Email\" users, we only clear app_status, but keep member_id and group_id\n        // for Part 2.\n        const response = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            status: \"SUCCESS\"\n        });\n        if (isNoEmail) {\n            response.cookies.set(\"app_status\", \"\", {\n                path: \"/\",\n                maxAge: -1\n            });\n            response.cookies.set(\"pending_group_id\", \"\", {\n                path: \"/\",\n                maxAge: -1\n            });\n        }\n        return response;\n    } catch (error) {\n        console.error(\"Unhandled error in orientation part1 route:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"An unexpected error occurred\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9vcmllbnRhdGlvbi9wYXJ0MS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEseUNBQXlDO0FBQ3pDLHFCQUFxQjtBQUVnQztBQUNRO0FBQ3pCO0FBRTdCLGVBQWVJLEtBQUtDLE9BQW9CO0lBQzdDLElBQUk7UUFDRixNQUFNQyxXQUFXTixrRUFBWUE7UUFDN0IsOERBQThEO1FBQzlELE1BQU1PLE9BQU8sTUFBTUYsUUFBUUcsSUFBSTtRQUMvQixNQUFNLEVBQUVDLFNBQVMsRUFBRSxHQUFHQyxVQUFVLEdBQUdIO1FBRW5DLHlDQUF5QztRQUN6QyxNQUFNSSxnQkFBZ0JOLFFBQVFPLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO1FBQzFDLElBQUksQ0FBQ0YsZUFBZTtZQUNsQixPQUFPVixxREFBWUEsQ0FBQ08sSUFBSSxDQUFDO2dCQUFFTSxPQUFPO1lBQXNDLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUMzRjtRQUNBLE1BQU1DLFVBQVVMLGNBQWNNLEtBQUs7UUFDbkMsTUFBTUMsUUFBUSxJQUFJQyxPQUFPQyxXQUFXLEdBQUdDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUVwRCxJQUFJWixXQUFXO1lBQ2IsMkJBQTJCO1lBQzNCLHdFQUF3RTtZQUN4RSxNQUFNLEVBQUVLLEtBQUssRUFBRSxHQUFHLE1BQU1SLFNBQVNnQixJQUFJLENBQUMsdUJBQXVCQyxNQUFNLENBQUM7Z0JBQ2xFQyxJQUFJckIsZ0RBQU1BO2dCQUNWc0IsVUFBVVQ7Z0JBQ1ZVLGlCQUFpQlI7Z0JBQ2pCUyxzQkFBc0I7Z0JBQ3RCQyxXQUFXO2dCQUVYLGtDQUFrQztnQkFDbENDLFlBQVluQixTQUFTb0IsU0FBUztnQkFDOUJDLFdBQVdyQixTQUFTc0IsUUFBUTtnQkFDNUJDLE9BQU92QixTQUFTdUIsS0FBSztnQkFDckJDLEtBQUt4QixTQUFTeUIsV0FBVyxJQUFJO2dCQUM3QkMsV0FBVzFCLFNBQVMwQixTQUFTO2dCQUM3QkMsUUFBUTNCLFNB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YztRQUNkLE1BQU1tQyxXQUFXakQscURBQVlBLENBQUNPLElBQUksQ0FBQztZQUFFTyxRQUFRO1FBQVU7UUFDdkQsSUFBSU4sV0FBVztZQUNieUMsU0FBU3RDLE9BQU8sQ0FBQ3VDLEdBQUcsQ0FBQyxjQUFjLElBQUk7Z0JBQUVDLE1BQU07Z0JBQUtDLFFBQVEsQ0FBQztZQUFFO1lBQy9ESCxTQUFTdEMsT0FBTyxDQUFDdUMsR0FBRyxDQUFDLG9CQUFvQixJQUFJO2dCQUFFQyxNQUFNO2dCQUFLQyxRQUFRLENBQUM7WUFBRTtRQUN2RTtRQUVBLE9BQU9IO0lBRVQsRUFBRSxPQUFPcEMsT0FBTztRQUNkMEIsUUFBUTFCLEtBQUssQ0FBQywrQ0FBK0NBO1FBQzdELE9BQU9iLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFBRU0sT0FBTztRQUErQixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUNwRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVnaXN0ZXItdjIvLi9zcmMvYXBwL2FwaS9vcmllbnRhdGlvbi9wYXJ0MS9yb3V0ZS50cz83YWQ2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hcHAvYXBpL29yaWVudGF0aW9uL3BhcnQxL3JvdXRlLnRzXG4vLyBUaGlzIGlzIGEgTkVXIEZJTEVcblxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2Uvc2VydmVyJztcbmltcG9ydCB7IE5leHRSZXNwb25zZSwgdHlwZSBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gICAgLy8gQm9keSB3aWxsIGNvbnRhaW4gYWxsIGRhdGEgZnJvbSBTdGVwIDAgKyB0aGUgaXNOb0VtYWlsIGZsYWdcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgY29uc3QgeyBpc05vRW1haWwsIC4uLmZvcm1EYXRhIH0gPSBib2R5O1xuXG4gICAgLy8gMS4gR2V0IEdyb3VwIElEIGZyb20gdGhlIHNlY3VyZSBjb29raWVcbiAgICBjb25zdCBncm91cElkQ29va2llID0gcmVxdWVzdC5jb29raWVzLmdldCgncGVuZGluZ19ncm91cF9pZCcpO1xuICAgIGlmICghZ3JvdXBJZENvb2tpZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdTZXNzaW9uIGV4cGlyZWQuIFBsZWFzZSBzdGFydCBvdmVyLicgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG4gICAgY29uc3QgZ3JvdXBJZCA9IGdyb3VwSWRDb29raWUudmFsdWU7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblxuICAgIGlmIChpc05vRW1haWwpIHtcbiAgICAgIC8vIC0tLSBcIk5PLUVNQUlMXCIgTE9HSUMgLS0tXG4gICAgICAvLyBUaGlzIHVzZXIgaGFzIG5vIG1lbWJlcl9pZC4gU2F2ZSB0aGVpciBpbmZvIGRpcmVjdGx5IHRvIHRoZSByZWdpc3Rlci5cbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oJ2F0dGVuZGFuY2VfcmVnaXN0ZXInKS5pbnNlcnQoe1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIGdyb3VwX2lkOiBncm91cElkLFxuICAgICAgICBhdHRlbmRhbmNlX2RhdGU6IHRvZGF5LFxuICAgICAgICBpc19ub19lbWFpbF9jaGVja19pbjogdHJ1ZSxcbiAgICAgICAgbWVtYmVyX2lkOiBudWxsLFxuICAgICAgICBcbiAgICAgICAgLy8gU2F2ZSBnZW5lcmljIGRhdGEgZnJvbSB0aGUgZm9ybVxuICAgICAgICBmaXJzdF9uYW1lOiBmb3JtRGF0YS5maXJzdE5hbWUsXG4gICAgICAgIGxhc3RfbmFtZTogZm9ybURhdGEubGFzdE5hbWUsXG4gICAgICAgIHBob25lOiBmb3JtRGF0YS5waG9uZSxcbiAgICAgICAgZG9iOiBmb3JtRGF0YS5kYXRlT2ZCaXJ0aCB8fCBudWxsLFxuICAgICAgICBldGhuaWNpdHk6IGZvcm1EYXRhLmV0aG5pY2l0eSxcbiAgICAgICAgZ2VuZGVyOiBmb3JtRGF0YS5nZW5kZXIsXG4gICAgICAgIHJlYXNvbl9mb3JfYXR0ZW5kaW5nOiBmb3JtRGF0YS5yZWFzb25Gb3JBdHRlbmRpbmcsXG4gICAgICB9KTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIG5vLWVtYWlsIGF0dGVuZGFuY2U6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBzYXZlIGF0dGVuZGFuY2UnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gLS0tIFwiRU1BSUxcIiBMT0dJQyAoUGFydCAxKSAtLS1cbiAgICAgIC8vIFRoaXMgdXNlciBoYXMgYSBtZW1iZXJfaWQuIFVwZGF0ZSB0aGVpciBtZW1iZXIgcmVjb3JkXG4gICAgICAvLyBhbmQgY3JlYXRlIGEgTElOS0VEIGF0dGVuZGFuY2UgcmVjb3JkLlxuICAgICAgY29uc3QgbWVtYmVySWRDb29raWUgPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCdtZW1iZXJfaWQnKTtcbiAgICAgIGlmICghbWVtYmVySWRDb29raWUpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdNZW1iZXIgc2Vzc2lvbiBub3QgZm91bmQuIFBsZWFzZSBzaWduIGluIGFnYWluLicgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1lbWJlcklkID0gbWVtYmVySWRDb29raWUudmFsdWU7XG5cbiAgICAgIC8vIDEuIFVwZGF0ZSB0aGUgbWVtYmVyJ3MgYmFzaWMgaW5mb1xuICAgICAgY29uc3QgeyBlcnJvcjogbWVtYmVyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdtZW1iZXJzJylcbiAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgZmlyc3RfbmFtZTogZm9ybURhdGEuZmlyc3ROYW1lLFxuICAgICAgICAgIGxhc3RfbmFtZTogZm9ybURhdGEubGFzdE5hbWUsXG4gICAgICAgICAgcGhvbmU6IGZvcm1EYXRhLnBob25lLFxuICAgICAgICAgIGRhdGVfb2ZfYmlydGg6IGZvcm1EYXRhLmRhdGVPZkJpcnRoIHx8IG51bGwsXG4gICAgICAgICAgZ2VuZGVyOiBmb3JtRGF0YS5nZW5kZXIsXG4gICAgICAgICAgZXRobmljaXR5OiBmb3JtRGF0YS5ldGhuaWNpdHksXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KVxuICAgICAgICAuZXEoJ2lkJywgbWVtYmVySWQpO1xuXG4gICAgICBpZiAobWVtYmVyRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgbWVtYmVyIChQYXJ0IDEpOicsIG1lbWJlckVycm9yKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIG1lbWJlciBkZXRhaWxzLicgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gMi4gQ3JlYXRlIHRoZSBpbml0aWFsIG9yaWVudGF0aW9uX2RldGFpbHMgcm93ICh3aWxsIGJlIHVwZGF0ZWQgaW4gUGFydCAyKVxuICAgICAgY29uc3QgeyBlcnJvcjogZGV0YWlsc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnb3JpZW50YXRpb25fZGV0YWlscycpXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIG1lbWJlcl9pZDogbWVtYmVySWQsXG4gICAgICAgICAgZGF0ZV9vZl9iaXJ0aDogZm9ybURhdGEuZGF0ZU9mQmlydGggfHwgbnVsbCxcbiAgICAgICAgICBnZW5kZXI6IGZvcm1EYXRhLmdlbmRlcixcbiAgICAgICAgICBldGhuaWNpdHk6IGZvcm1EYXRhLmV0aG5pY2l0eSxcbiAgICAgICAgICByZWFzb25fZm9yX2F0dGVuZGluZzogZm9ybURhdGEucmVhc29uRm9yQXR0ZW5kaW5nLFxuICAgICAgICB9KTtcblxuICAgICAgaWYgKGRldGFpbHNFcnJvcikge1xuICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgb3JpZW50YXRpb24gZGV0YWlscyAoUGFydCAxKTonLCBkZXRhaWxzRXJyb3IpO1xuICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gc2F2ZSBvcmllbnRhdGlvbiBkZXRhaWxzLicgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gMy4gQ3JlYXRlIHRoZSBhdHRlbmRhbmNlIHJlY29yZCAoYXMgcmVxdWVzdGVkKVxuICAgICAgY29uc3QgeyBlcnJvcjogYXR0ZW5kYW5jZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnYXR0ZW5kYW5jZV9yZWdpc3RlcicpXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBtZW1iZXJfaWQ6IG1lbWJlcklkLCAvLyA8LS0gTGlua2VkIHRvIHRoZSBtZW1iZXJcbiAgICAgICAgICBncm91cF9pZDogZ3JvdXBJZCxcbiAgICAgICAgICBhdHRlbmRhbmNlX2RhdGU6IHRvZGF5LFxuICAgICAgICAgIGZpcnN0X25hbWU6IGZvcm1EYXRhLmZpcnN0TmFtZSxcbiAgICAgICAgICBsYXN0X25hbWU6IGZvcm1EYXRhLmxhc3ROYW1lLFxuICAgICAgICAgIHBob25lOiBmb3JtRGF0YS5waG9uZSxcbiAgICAgICAgICBkb2I6IGZvcm1EYXRhLmRhdGVPZkJpcnRoIHx8IG51bGwsXG4gICAgICAgICAgZ2VuZGVyOiBmb3JtRGF0YS5nZW5kZXIsXG4gICAgICAgICAgZXRobmljaXR5OiBmb3JtRGF0YS5ldGhuaWNpdHksXG4gICAgICAgICAgcmVhc29uX2Zvcl9hdHRlbmRpbmc6IGZvcm1EYXRhLnJlYXNvbkZvckF0dGVuZGluZyxcbiAgICAgICAgICBpc19ub19lbWFpbF9jaGVja19pbjogZmFsc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICBpZiAoYXR0ZW5kYW5jZUVycm9yKSB7XG4gICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBhdHRlbmRhbmNlIHJlY29yZCAoUGFydCAxKTonLCBhdHRlbmRhbmNlRXJyb3IpO1xuICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gbG9nIGF0dGVuZGFuY2UuJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIC0tLSBTdWNjZXNzIC0tLVxuICAgIC8vIEZvciBcIk5vLUVtYWlsXCIgdXNlcnMsIHRoaXMgaXMgdGhlIGVuZC4gQ2xlYXIgYWxsIGNvb2tpZXMuXG4gICAgLy8gRm9yIFwiRW1haWxcIiB1c2Vycywgd2Ugb25seSBjbGVhciBhcHBfc3RhdHVzLCBidXQga2VlcCBtZW1iZXJfaWQgYW5kIGdyb3VwX2lkXG4gICAgLy8gZm9yIFBhcnQgMi5cbiAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKHsgc3RhdHVzOiAnU1VDQ0VTUycgfSk7XG4gICAgaWYgKGlzTm9FbWFpbCkge1xuICAgICAgcmVzcG9uc2UuY29va2llcy5zZXQoJ2FwcF9zdGF0dXMnLCAnJywgeyBwYXRoOiAnLycsIG1heEFnZTogLTEgfSk7XG4gICAgICByZXNwb25zZS5jb29raWVzLnNldCgncGVuZGluZ19ncm91cF9pZCcsICcnLCB7IHBhdGg6ICcvJywgbWF4QWdlOiAtMSB9KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIGVycm9yIGluIG9yaWVudGF0aW9uIHBhcnQxIHJvdXRlOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiTmV4dFJlc3BvbnNlIiwidjQiLCJ1dWlkdjQiLCJQT1NUIiwicmVxdWVzdCIsInN1cGFiYXNlIiwiYm9keSIsImpzb24iLCJpc05vRW1haWwiLCJmb3JtRGF0YSIsImdyb3VwSWRDb29raWUiLCJjb29raWVzIiwiZ2V0IiwiZXJyb3IiLCJzdGF0dXMiLCJncm91cElkIiwidmFsdWUiLCJ0b2RheSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwiZnJvbSIsImluc2VydCIsImlkIiwiZ3JvdXBfaWQiLCJhdHRlbmRhbmNlX2RhdGUiLCJpc19ub19lbWFpbF9jaGVja19pbiIsIm1lbWJlcl9pZCIsImZpcnN0X25hbWUiLCJmaXJzdE5hbWUiLCJsYXN0X25hbWUiLCJsYXN0TmFtZSIsInBob25lIiwiZG9iIiwiZGF0ZU9mQmlydGgiLCJldGhuaWNpdHkiLCJnZW5kZXIiLCJyZWFzb25fZm9yX2F0dGVuZGluZyIsInJlYXNvbkZvckF0dGVuZGluZyIsImNvbnNvbGUiLCJtZW1iZXJJZENvb2tpZSIsIm1lbWJlcklkIiwibWVtYmVyRXJyb3IiLCJ1cGRhdGUiLCJkYXRlX29mX2JpcnRoIiwidXBkYXRlZF9hdCIsImVxIiwiZGV0YWlsc0Vycm9yIiwiYXR0ZW5kYW5jZUVycm9yIiwicmVzcG9uc2UiLCJzZXQiLCJwYXRoIiwibWF4QWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/orientation/part1/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/server.ts":
/*!************************************!*\
  !*** ./src/lib/supabase/server.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\nconst createClient = ()=>{\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"http://127.0.0.1:15321\", \"sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH\", {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value,\n                        ...options\n                    });\n                } catch (error) {\n                // The `set` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            },\n            remove (name, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value: \"\",\n                        ...options\n                    });\n                } catch (error) {\n                // The `delete` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            }\n        }\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlL3NlcnZlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0U7QUFDaEM7QUFFL0IsTUFBTUUsZUFBZTtJQUMxQixNQUFNQyxjQUFjRixxREFBT0E7SUFFM0IsT0FBT0QsaUVBQWtCQSxDQUN2Qkksd0JBQW9DLEVBQ3BDQSxnREFBeUMsRUFDekM7UUFDRUgsU0FBUztZQUNQTyxLQUFJQyxJQUFZO2dCQUNkLE9BQU9OLFlBQVlLLEdBQUcsQ0FBQ0MsT0FBT0M7WUFDaEM7WUFDQUMsS0FBSUYsSUFBWSxFQUFFQyxLQUFhLEVBQUVFLE9BQXNCO2dCQUNyRCxJQUFJO29CQUNGVCxZQUFZUSxHQUFHLENBQUM7d0JBQUVGO3dCQUFNQzt3QkFBTyxHQUFHRSxPQUFPO29CQUFDO2dCQUM1QyxFQUFFLE9BQU9DLE9BQU87Z0JBQ2QsdURBQXVEO2dCQUN2RCx3REFBd0Q7Z0JBQ3hELGlCQUFpQjtnQkFDbkI7WUFDRjtZQUNBQyxRQUFPTCxJQUFZLEVBQUVHLE9BQXNCO2dCQUN6QyxJQUFJO29CQUNGVCxZQUFZUSxHQUFHLENBQUM7d0JBQUVGO3dCQUFNQyxPQUFPO3dCQUFJLEdBQUdFLE9BQU87b0JBQUM7Z0JBQ2hELEVBQUUsT0FBT0MsT0FBTztnQkFDZCwwREFBMEQ7Z0JBQzFELHdEQUF3RDtnQkFDeEQsaUJBQWlCO2dCQUNuQjtZQUNGO1FBQ0Y7SUFDRjtBQUVKLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWdpc3Rlci12Mi8uL3NyYy9saWIvc3VwYWJhc2Uvc2VydmVyLnRzPzJlOGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50LCB0eXBlIENvb2tpZU9wdGlvbnMgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJ1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycydcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNsaWVudCA9ICgpID0+IHtcbiAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKClcblxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50KFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxuICAgIHtcbiAgICAgIGNvb2tpZXM6IHtcbiAgICAgICAgZ2V0KG5hbWU6IHN0cmluZykge1xuICAgICAgICAgIHJldHVybiBjb29raWVTdG9yZS5nZXQobmFtZSk/LnZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIHNldChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG9wdGlvbnM6IENvb2tpZU9wdGlvbnMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29va2llU3RvcmUuc2V0KHsgbmFtZSwgdmFsdWUsIC4uLm9wdGlvbnMgfSlcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gVGhlIGBzZXRgIG1ldGhvZCB3YXMgY2FsbGVkIGZyb20gYSBTZXJ2ZXIgQ29tcG9uZW50LlxuICAgICAgICAgICAgLy8gVGhpcyBjYW4gYmUgaWdub3JlZCBpZiB5b3UgaGF2ZSBtaWRkbGV3YXJlIHJlZnJlc2hpbmdcbiAgICAgICAgICAgIC8vIHVzZXIgc2Vzc2lvbnMuXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmUobmFtZTogc3RyaW5nLCBvcHRpb25zOiBDb29raWVPcHRpb25zKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldCh7IG5hbWUsIHZhbHVlOiAnJywgLi4ub3B0aW9ucyB9KVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBUaGUgYGRlbGV0ZWAgbWV0aG9kIHdhcyBjYWxsZWQgZnJvbSBhIFNlcnZlciBDb21wb25lbnQuXG4gICAgICAgICAgICAvLyBUaGlzIGNhbiBiZSBpZ25vcmVkIGlmIHlvdSBoYXZlIG1pZGRsZXdhcmUgcmVmcmVzaGluZ1xuICAgICAgICAgICAgLy8gdXNlciBzZXNzaW9ucy5cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH1cbiAgKVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZVNlcnZlckNsaWVudCIsImNvb2tpZXMiLCJjcmVhdGVDbGllbnQiLCJjb29raWVTdG9yZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldCIsIm5hbWUiLCJ2YWx1ZSIsInNldCIsIm9wdGlvbnMiLCJlcnJvciIsInJlbW92ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/server.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/cookie","vendor-chunks/webidl-conversions","vendor-chunks/uuid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forientation%2Fpart1%2Froute&page=%2Fapi%2Forientation%2Fpart1%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forientation%2Fpart1%2Froute.ts&appDir=%2FUsers%2Fjarredkoen%2FCoding%2FRegisterv2%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjarredkoen%2FCoding%2FRegisterv2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();